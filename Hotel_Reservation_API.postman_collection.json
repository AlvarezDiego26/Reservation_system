{
  "info": {
    "name": "Hotel Reservation API",
    "_postman_id": "hotel-reservation-api-v2",
    "description": "Colección Postman para probar todos los endpoints del sistema de reservas hoteleras con autenticación, paginación y roles.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register (Client)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "http://localhost:3000/api/auth/register" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"cliente@example.com\",\n  \"password\": \"Cliente123!\",\n  \"firstName\": \"Cliente\",\n  \"lastName\": \"Demo\",\n  \"role\": \"CLIENT\"\n}"
            }
          }
        },
        {
          "name": "Login (Admin)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": { "raw": "http://localhost:3000/api/auth/login" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"AdminPass123!\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Users (Admin)",
      "item": [
        {
          "name": "List Users (Paginated)",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token_admin}}" }],
            "url": {
              "raw": "http://localhost:3000/api/users?page=1&limit=10",
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          }
        },
        {
          "name": "Update User Role",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_admin}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/users" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 3,\n  \"role\": \"ADMIN\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Hotels",
      "item": [
        {
          "name": "List Hotels (Paginated)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:3000/api/hotels?page=1&limit=5",
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "5" }
              ]
            }
          }
        },
        {
          "name": "Create Hotel (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_admin}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/hotels" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Hotel Central\",\n  \"address\": \"Calle 123\",\n  \"city\": \"Lima\",\n  \"country\": \"Peru\",\n  \"description\": \"Hotel moderno\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Rooms",
      "item": [
        {
          "name": "List Rooms (Paginated)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:3000/api/rooms?page=1&limit=10",
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          }
        },
        {
          "name": "Create Room (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_admin}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/rooms" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hotelId\": 1,\n  \"number\": \"101\",\n  \"type\": \"SINGLE\",\n  \"price\": 150,\n  \"capacity\": 1,\n  \"status\": \"AVAILABLE\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "List Reservations (Paginated)",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token_admin}}" }],
            "url": {
              "raw": "http://localhost:3000/api/reservations?page=1&limit=5",
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "5" }
              ]
            }
          }
        },
        {
          "name": "Create Reservation (Client)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_client}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/reservations" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"roomId\": 1,\n  \"startDate\": \"2025-10-12T15:00:00.000Z\",\n  \"endDate\": \"2025-10-15T11:00:00.000Z\"\n}"
            }
          }
        },
        {
          "name": "Confirm Reservation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_client}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/reservations/confirm" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reservationId\": 1,\n  \"paymentMethod\": \"CARD\"\n}"
            }
          }
        },
        {
          "name": "Cancel Reservation",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_client}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/reservations/cancel" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reservationId\": 1\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token_client}}" }
            ],
            "url": { "raw": "http://localhost:3000/api/payments" },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reservationId\": 1,\n  \"amount\": 250,\n  \"method\": \"CARD\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Logs (Admin)",
      "item": [
        {
          "name": "List Logs (Paginated)",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token_admin}}" }],
            "url": {
              "raw": "http://localhost:3000/api/logs?page=1&limit=10",
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    { "key": "token_admin", "value": "" },
    { "key": "token_client", "value": "" }
  ]
}
